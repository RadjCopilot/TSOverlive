<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>TS6 OverLive</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/color-picker.css">
</head>
<body>
    <div class="container">
        <div class="overlay" id="overlay">
            <div class="header">
                <button class="settings-btn" onclick="toggleSettings()" title="Настройки">⚙️</button>
            </div>
            <div class="user-list" id="userList"></div>
        </div>
        <div class="settings-panel" id="settingsPanel">
            <button class="close-btn" onclick="toggleSettings()">✕</button>
            <h2>Настройки</h2>
            <div class="setting-group">
                <label>
                    <input type="checkbox" id="minimal">
                    Минималистичный режим
                </label>
            </div>
            <div class="setting-group">
                <label>
                    <input type="checkbox" id="clickThrough">
                    Сквозной режим
                </label>
                <div style="font-size: 10px; color: rgba(255,255,255,0.6); margin-top: 4px; line-height: 1.4;">
                    Клики проходят сквозь виджет<br>
                    <span style="color: #10b981; font-weight: 600;">Отключить: Cmd+Shift+T</span>
                </div>
            </div>
            <div class="setting-group">
                <label>Прозрачность: <span id="opacityValue">80</span>%</label>
                <input type="range" id="opacity" min="0" max="100" value="80">
            </div>
            <div class="setting-group">
                <label>Версия TeamSpeak</label>
                <select id="tsVersion">
                    <option value="ts6" selected>TeamSpeak 6</option>
                    <option value="ts3">TeamSpeak 3</option>
                </select>
                <div id="ts3Warning" style="display: none; font-size: 10px; color: #f59e0b; margin-top: 8px; padding: 8px; background: rgba(245, 158, 11, 0.1); border-radius: 4px; line-height: 1.4;">
                    ⚠️ Включите ClientQuery в TS3:<br>
                    Tools → Options → Addons → ClientQuery
                </div>
            </div>
            <div class="setting-group" id="ts3TokenGroup" style="display: none;">
                <label>API ключ TS3</label>
                <div id="ts3TokenDisplay" style="display: none;">
                    <div style="display: flex; gap: 8px; align-items: center;">
                        <input type="text" id="ts3TokenMasked" readonly style="flex: 1; padding: 8px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 4px; color: rgba(255,255,255,0.6); font-size: 12px;">
                        <button id="ts3TokenEdit" style="padding: 8px 12px; background: rgba(16, 185, 129, 0.2); color: #10b981; border: 1px solid #10b981; border-radius: 4px; cursor: pointer; font-size: 12px;">Изменить</button>
                    </div>
                </div>
                <div id="ts3TokenInput" style="display: none;">
                    <input type="text" id="ts3Token" placeholder="Введите API ключ" style="width: 100%; padding: 8px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.2); border-radius: 4px; color: #fff; font-size: 12px; margin-bottom: 8px;">
                    <button id="ts3TokenApply" style="width: 100%; padding: 8px; background: rgba(16, 185, 129, 0.2); color: #10b981; border: 1px solid #10b981; border-radius: 4px; cursor: pointer; font-size: 12px;">Применить</button>
                </div>
                <div style="font-size: 10px; color: rgba(255,255,255,0.5); margin-top: 8px; line-height: 1.4;">
                    Получите ключ в TS3: Tools → Options → Addons → ClientQuery → Settings
                </div>
            </div>

            <div class="setting-group">
                <label>Макс. пользователей</label>
                <select id="maxUsers">
                    <option value="3">3</option>
                    <option value="5">5</option>
                    <option value="8">8</option>
                    <option value="10" selected>10</option>
                    <option value="15">15</option>
                    <option value="999">Все</option>
                </select>
            </div>
            <div class="setting-group">
                <label>Цвет акцента</label>
                <div class="color-picker-wrapper">
                    <input type="color" id="color" value="#10b981">
                    <div class="color-picker-button" onclick="document.getElementById('color').click()">
                        <div class="color-preview" id="colorPreview" style="background: #10b981;"></div>
                        <span>Выбрать цвет</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/ts6-client.js"></script>
    <script src="js/ts3-client.js"></script>
    <script src="js/window-manager.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/updater.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
